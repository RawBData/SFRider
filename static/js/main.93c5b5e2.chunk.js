(this.webpackJsonpsfrider=this.webpackJsonpsfrider||[]).push([[0],{23:function(e,t,a){e.exports=a.p+"static/media/lock.49d5c9f7.png"},26:function(e,t,a){e.exports=a(35)},31:function(e,t,a){},34:function(e,t,a){e.exports=a.p+"static/media/test.73d7cf17.jpg"},35:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(16),r=a.n(o),i=(a(31),a(10)),l=a(11),s=a(13),u=a(12),p=a(17),m=a(14),h=a(1),d=a.n(h),f=(a(9),a(7)),b=a(40),g=a(41),E=a(36),k=a(6),v=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"createLeafletElement",value:function(e){}},{key:"componentDidMount",value:function(){console.log(this.props.markers);for(var e={"2015-Present":[],"2010-2014":[],"2005-2009":[],"pre-2005":[]},t=d.a.icon({iconUrl:a(23),iconSize:[35,35]}),n=0;n<this.props.markers.length;n++){var c=this.props.markers[n],o=parseInt(c.install_yr);switch(!0){case o>2014:e["2015-Present"].push(c);break;case o>2009:e["2010-2014"].push(c);break;case o>2004:e["2005-2009"].push(c);break;default:e["pre-2005"].push(c)}}var r=d.a.layerGroup(e["2015-Present"].map((function(e){return d.a.marker([e.lat,e.lon],{icon:t}).bindPopup("Spaces: ".concat(e.spaces))}))),i=d.a.layerGroup(e["2010-2014"].map((function(e){return d.a.marker([e.lat,e.lon],{icon:t}).bindPopup("Spaces: ".concat(e.spaces))}))),l=d.a.layerGroup(e["2005-2009"].map((function(e){return d.a.marker([e.lat,e.lon],{icon:t}).bindPopup("Spaces: ".concat(e.spaces))}))),s=d.a.layerGroup(e["pre-2005"].map((function(e){return d.a.marker([e.lat,e.lon],{icon:t}).bindPopup("Spaces: ".concat(e.spaces))}))),u=d.a.layerGroup(this.props.markers.map((function(e){return d.a.marker([e.lat,e.lon],{icon:t}).bindPopup("Spaces: ".concat(e.spaces))}))),p=this.props.leaflet.map;d.a.control.layers({},{"2015-Present":r,"2010-2014":i,"2005-2009":l,"pre-2005":s,All:u},{position:"topleft",collapsed:!1}).addTo(p),d.a.control.scale().addTo(p)}},{key:"componentWillUnmount",value:function(){}}]),t}(E.a),y=Object(k.b)(v);new h.Icon({iconUrl:a(23),iconSize:[30,30]});function j(e){var t=e.racks,a=c.a.useState(null),n=Object(f.a)(a,2);n[0],n[1];return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement(b.a,{center:[37.773943,-122.449484],zoom:13.4},c.a.createElement(y,{markers:t.map((function(e){return e}))}),c.a.createElement(g.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}))))}var S=a(38),O=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"createLeafletElement",value:function(e){}},{key:"componentDidMount",value:function(){var e=d.a.control({position:"topright"});e.onAdd=function(){for(var e=d.a.DomUtil.create("div","info legend"),t=["Light","Medium","Heavy","Dense"],a=["green","yellow","red","purple"],n=["white","black","white","white"],c=[],o=0;o<t.length;o++){var r=t[o],i=a[o],l=n[o];c.push('<i style="background:'+i+";color:"+l+';"> '+r+"</i>")}return e.innerHTML=c.join("<br>"),e};var t=this.props.leaflet.map;e.addTo(t)}},{key:"componentWillUnmount",value:function(){}}]),t}(E.a),M=Object(k.b)(O);function w(e){var t=e.traffic,a=c.a.useState(null),n=Object(f.a)(a,2),o=(n[0],n[1]);return console.log(t),c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement(b.a,{center:[37.773943,-122.449484],zoom:13.4},c.a.createElement(g.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),c.a.createElement(M,null),t.map((function(e){return c.a.createElement(S.a,{fillColor:e.model6_vol>7e5?"purple":e.model6_vol>5e5?"red":e.model6_vol>3e5?"gold":"green",radius:200,fillOpacity:.4,stroke:!1,key:e.objectid,center:[e.point.coordinates[1],e.point.coordinates[0]],onClick:function(){o(e)}})})))))}var C=a(37),z=a(39);function _(e){var t=e.crime,a=c.a.useState(null),n=Object(f.a)(a,2),o=n[0],r=n[1];return console.log(t),c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement(b.a,{center:[37.773943,-122.449484],zoom:13.4},c.a.createElement(g.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),t.map((function(e){return c.a.createElement(C.a,{key:e.incident_id,position:[e.latitude,e.longitude],onClick:function(){r(e)}})})),o&&c.a.createElement(z.a,{position:[o.latitude,o.longitude],onClose:function(){r(null)}},c.a.createElement("div",null,c.a.createElement("h2",null,"Police District : ",o.police_district),c.a.createElement("h2",null,"Description : ",o.incident_description),c.a.createElement("h2",null,"Resolution : ",o.resolution))))))}function x(e){var t=e.accidents,a=c.a.useState(null),n=Object(f.a)(a,2),o=n[0],r=n[1];return console.log(t),c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement(b.a,{center:[37.773943,-122.449484],zoom:13.4},c.a.createElement(g.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),t.map((function(e){return c.a.createElement(C.a,{key:e.on_scene_dttm,position:[e.location.latitude,e.location.longitude],onClick:function(){r(e)}})})),o&&c.a.createElement(z.a,{position:[o.location.latitude,o.location.longitude],onClose:function(){r(null)}},c.a.createElement("div",null,c.a.createElement("h2",null,"Type : ",o.call_type),c.a.createElement("h2",null,"Seriousness : ",o.call_type_group),c.a.createElement("h2",null,"Neighborhood : ",o.neighborhoods_analysis_boundaries))))))}function P(e){var t=e.lights,a=c.a.useState(null),n=Object(f.a)(a,2),o=n[0],r=n[1];return console.log(t),c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement(b.a,{center:[37.773943,-122.449484],zoom:13.4},c.a.createElement(g.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),t.map((function(e){return c.a.createElement(C.a,{key:e.objectid,position:[e.point.coordinates[1],e.point.coordinates[0]],onClick:function(){r(e)}})})),o&&c.a.createElement(z.a,{position:[o.point.coordinates[1],o.point.coordinates[0]],onClose:function(){r(null)}},c.a.createElement("div",null,c.a.createElement("h2",null,"Corner of ",o.street1," and ",o.street2))))))}function D(e){e.racks;var t=c.a.useState(null),a=Object(f.a)(t,2);a[0],a[1];return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement(b.a,{center:[37.773943,-122.449484],zoom:13.4},c.a.createElement(g.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}))))}var T=new h.Icon({iconUrl:a(34),iconSize:[25,25]}),R=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={mainMapSelection:"traffic",bikeRacks:[],crime:[],accidents:[],traffic:[],lights:[]},e.changeMap=e.changeMap.bind(Object(p.a)(e)),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://data.sfgov.org/resource/hn4j-6fx5.json").then((function(e){return e.json()})).then((function(t){e.setState({bikeRacks:t})})),fetch("https://data.sfgov.org/resource/wg3w-h783.json").then((function(e){return e.json()})).then((function(t){var a=t.filter((function(e){return e.latitude&&"Larceny Theft"===e.incident_category})),n=t.filter((function(e){return e.latitude&&"Traffic Collision"===e.incident_category}));e.setState({crime:a,accidents:n})})),fetch("https://data.sfgov.org/resource/awac-r27z.json").then((function(e){return e.json()})).then((function(t){e.setState({traffic:t})})),fetch("https://data.sfgov.org/resource/a5zr-cehj.json").then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({lights:t})}))}},{key:"changeMap",value:function(e){console.log("changing maps to ",e),this.setState({mainMapSelection:e})}},{key:"render",value:function(){var e,t=this;switch(this.state.mainMapSelection){case"racks":e=c.a.createElement(j,{icon:T,racks:this.state.bikeRacks});break;case"traffic":console.log("chose traffic to display"),e=c.a.createElement(w,{traffic:this.state.traffic});break;case"crime":console.log("chose traffic to display"),e=c.a.createElement(_,{crime:this.state.crime});break;case"lights":console.log("chose lights to display"),e=c.a.createElement(P,{lights:this.state.lights});break;case"accidents":console.log("chose accidents to display"),e=c.a.createElement(x,{accidents:this.state.accidents});break;case"all":console.log("chose all to display"),e=c.a.createElement(D,{crime:this.state.crime,accidents:this.state.accidents,racks:this.state.bikeRacks,traffic:this.state.traffic})}return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("h1",null,"SFRider: Biking SF Data")),c.a.createElement("div",{class:"tabs-wrapper"},c.a.createElement("div",{class:"tabs"},c.a.createElement("div",{class:"tab"},c.a.createElement("input",{type:"radio",name:"css-tabs",id:"tab-1",checked:"traffic"===this.state.mainMapSelection,class:"tab-switch",onClick:function(){t.changeMap("traffic")}}),c.a.createElement("label",{for:"tab-1",class:"tab-label"},"Traffic")),c.a.createElement("div",{class:"tab"},c.a.createElement("input",{type:"radio",name:"css-tabs",id:"tab-2",checked:"racks"===this.state.mainMapSelection,class:"tab-switch",onClick:function(){t.changeMap("racks")}}),c.a.createElement("label",{for:"tab-2",class:"tab-label"},"Racks")),c.a.createElement("div",{class:"tab"},c.a.createElement("input",{type:"radio",name:"css-tabs",id:"tab-3",checked:"accidents"===this.state.mainMapSelection,class:"tab-switch",onClick:function(){t.changeMap("accidents")}}),c.a.createElement("label",{for:"tab-3",class:"tab-label"},"Accidents")),c.a.createElement("div",{class:"tab"},c.a.createElement("input",{type:"radio",name:"css-tabs",id:"tab-4",checked:"crime"===this.state.mainMapSelection,class:"tab-switch",onClick:function(){t.changeMap("crime")}}),c.a.createElement("label",{for:"tab-4",class:"tab-label"},"Crime")),c.a.createElement("div",{class:"tab"},c.a.createElement("input",{type:"radio",name:"css-tabs",id:"tab-5",checked:"lights"===this.state.mainMapSelection,class:"tab-switch",onClick:function(){t.changeMap("lights")}}),c.a.createElement("label",{for:"tab-5",class:"tab-label"},"Lights")),c.a.createElement("div",{class:"tab"},c.a.createElement("input",{type:"radio",name:"css-tabs",id:"tab-6",checked:"all"===this.state.mainMapSelection,class:"tab-switch",onClick:function(){t.changeMap("all")}}),c.a.createElement("label",{for:"tab-6",class:"tab-label"},"All")))),c.a.createElement("div",null,e))}}]),t}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,a){}},[[26,1,2]]]);
//# sourceMappingURL=main.93c5b5e2.chunk.js.map