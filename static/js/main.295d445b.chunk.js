(this.webpackJsonpsfrider=this.webpackJsonpsfrider||[]).push([[0],{21:function(e,t,a){},42:function(e,t,a){e.exports=a.p+"static/media/lights.3343e2ef.png"},45:function(e,t,a){e.exports=a(68)},50:function(e,t,a){},51:function(e,t,a){e.exports=a.p+"static/media/lock.49d5c9f7.png"},54:function(e,t,a){e.exports=a.p+"static/media/racks_icon.74942809.png"},66:function(e,t,a){e.exports=a.p+"static/media/crime.596b3fdf.png"},67:function(e,t,a){e.exports=a.p+"static/media/test.73d7cf17.jpg"},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(24),o=a.n(c),l=(a(50),a(15)),i=a(16),s=a(19),u=a(17),p=a(26),m=a(18),h=a(1),f=a.n(h),d=(a(21),a(10)),b=a(29),E=a(33),k=a(34),y=a(35),g=a(36),v=a(37),j=a(12),M=a(3),S=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"createLeafletElement",value:function(e){}},{key:"componentDidMount",value:function(){for(var e={"2015-Present":[],"2010-2014":[],"2005-2009":[],"pre-2005":[]},t=f.a.icon({iconUrl:a(51),iconSize:[35,35]}),n=0;n<this.props.markers.length;n++){var r=this.props.markers[n],c=parseInt(r.install_yr);switch(!0){case c>2014:e["2015-Present"].push(r);break;case c>2009:e["2010-2014"].push(r);break;case c>2004:e["2005-2009"].push(r);break;default:e["pre-2005"].push(r)}}var o=f.a.layerGroup(e["2015-Present"].map((function(e){return f.a.marker([e.lat,e.lon],{icon:t}).bindPopup("Spaces: ".concat(e.spaces))}))),l=f.a.layerGroup(e["2010-2014"].map((function(e){return f.a.marker([e.lat,e.lon],{icon:t}).bindPopup("Spaces: ".concat(e.spaces))}))),i=f.a.layerGroup(e["2005-2009"].map((function(e){return f.a.marker([e.lat,e.lon],{icon:t}).bindPopup("Spaces: ".concat(e.spaces))}))),s=f.a.layerGroup(e["pre-2005"].map((function(e){return f.a.marker([e.lat,e.lon],{icon:t}).bindPopup("Spaces: ".concat(e.spaces))}))),u=f.a.layerGroup(this.props.markers.map((function(e){return f.a.marker([e.lat,e.lon],{icon:t}).bindPopup("Spaces: ".concat(e.spaces))}))),p=this.props.leaflet.map;f.a.control.layers({},{"2015-Present":o,"2010-2014":l,"2005-2009":i,"pre-2005":s,All:u},{position:"topleft",collapsed:!1}).addTo(p),f.a.control.scale().addTo(p)}},{key:"componentWillUnmount",value:function(){}}]),t}(j.a),O=(Object(M.d)(S),b.b.BaseLayer),w=(b.b.Overlay,new h.Icon({iconUrl:a(54),iconSize:[30,30]}));function C(e){var t=e.racks,a=r.a.useState(null),n=Object(d.a)(a,2),c=n[0],o=n[1];return console.log(t),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(E.a,{center:[37.773943,-122.449484],zoom:13.4},r.a.createElement(k.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),r.a.createElement(b.b,{position:"topright",collapsed:!1},r.a.createElement(O,{name:"2015-Present"},r.a.createElement(y.a,null,t.filter((function(e){return parseInt(e.install_yr)>2014})).map((function(e){return r.a.createElement(g.a,{key:e.objectid,position:[e.lat,e.lon],onClick:function(){o(e)},icon:w})})))),r.a.createElement(O,{name:"2010-2014"},r.a.createElement(y.a,null,t.filter((function(e){return parseInt(e.install_yr)>2009&&parseInt(e.install_yr)<2015})).map((function(e){return r.a.createElement(g.a,{key:e.objectid,position:[e.lat,e.lon],onClick:function(){o(e)},icon:w})})))),r.a.createElement(O,{checked:!0,name:"2005-2009"},r.a.createElement(y.a,null,t.filter((function(e){return parseInt(e.install_yr)>2004&&parseInt(e.install_yr)<2010})).map((function(e){return r.a.createElement(g.a,{key:e.objectid,position:[e.lat,e.lon],onClick:function(){o(e)},icon:w})})))),r.a.createElement(O,{name:"Pre-2005"},r.a.createElement(y.a,null,t.filter((function(e){return parseInt(e.install_yr)<2005})).map((function(e){return r.a.createElement(g.a,{key:e.objectid,position:[e.lat,e.lon],onClick:function(){o(e)},icon:w})})))),r.a.createElement(O,{name:"All"},r.a.createElement(y.a,null,t.map((function(e){return r.a.createElement(g.a,{key:e.objectid,position:[e.lat,e.lon],onClick:function(){o(e)},icon:w})}))))),c&&r.a.createElement(v.a,{position:[c.lat,c.lon],onClose:function(){o(null)}},r.a.createElement("div",null,r.a.createElement("h2",null,"Spaces : ",c.spaces),r.a.createElement("h2",null,"Year Installed : ",c.install_yr),r.a.createElement("h2",null,"Street : ",c.street))))))}var I=a(44),z=a.n(I),x=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"createLeafletElement",value:function(e){}},{key:"componentDidMount",value:function(){var e=f.a.control({position:"topright"});e.onAdd=function(){for(var e=f.a.DomUtil.create("div","info legend"),t=["Light","Medium","Heavy","Dense"],a=["144, 155, 244","103, 232, 51","  248, 254, 77","254,102,31"],n=["white","black","black","white"],r=[],c=0;c<t.length;c++){var o=t[c],l=a[c],i=n[c];r.push('<i style="background:rgb('+l+");color:"+i+';"> '+o+"</i>")}return e.innerHTML=r.join("<br>"),e};var t=this.props.leaflet.map;e.addTo(t)}},{key:"componentWillUnmount",value:function(){}}]),t}(j.a),N=Object(M.d)(x);function P(e){var t=e.traffic,a=r.a.useState(null),n=Object(d.a)(a,2);n[0],n[1];return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(E.a,{center:[37.773943,-122.449484],maxZoom:14,zoom:13.4},r.a.createElement(k.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),r.a.createElement(N,null),r.a.createElement(z.a,{points:t,maxZoom:10,longitudeExtractor:function(e){return e.point.coordinates[0]},latitudeExtractor:function(e){return e.point.coordinates[1]},intensityExtractor:function(e){return parseFloat(e.model6_vol)}}))))}var _=new h.Icon({iconUrl:a(66),iconSize:[35,35]});function B(e){var t=e.crime,a=r.a.useState(null),n=Object(d.a)(a,2),c=n[0],o=n[1];return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(E.a,{center:[37.773943,-122.449484],zoom:13.4},r.a.createElement(k.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),t.map((function(e){return r.a.createElement(g.a,{key:e.incident_id+e.incident_number+Math.floor(1e3*Math.random()),position:[e.latitude,e.longitude],onClick:function(){o(e)},icon:_})})),c&&r.a.createElement(v.a,{position:[c.latitude,c.longitude],onClose:function(){o(null)}},r.a.createElement("div",null,r.a.createElement("h2",null,"Police District : ",c.police_district),r.a.createElement("h2",null,"Description : ",c.incident_description),r.a.createElement("h2",null,"Resolution : ",c.resolution))))))}var R=a(38),T=a(39),A=a(41),L=b.b.BaseLayer,U=b.b.Overlay,D=[37.773943,-122.449484],F=[[37.773943,-122.449484],[37.773943,-122.49]],W=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(E.a,{center:D,zoom:13},r.a.createElement(b.b,{position:"topright",collapsed:!1},r.a.createElement(L,{name:"Color"},r.a.createElement(k.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})),r.a.createElement(L,{checked:!0,name:"Black and White"},r.a.createElement(k.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png"})),r.a.createElement(U,{name:"Injury"},r.a.createElement(g.a,{position:D},r.a.createElement(v.a,null,"A pretty CSS3 popup. ",r.a.createElement("br",null)," Easily customizable."))),r.a.createElement(U,{checked:!0,name:"Fatal"},r.a.createElement(y.a,null,r.a.createElement(R.a,{center:D,fillColor:"blue",radius:200}),r.a.createElement(R.a,{center:D,fillColor:"red",radius:100,stroke:!1}),r.a.createElement(y.a,null,r.a.createElement(R.a,{center:[D[0],D[1]-.05],color:"green",fillColor:"green",radius:100})))),r.a.createElement(U,{name:"Path"},r.a.createElement(T.a,{color:"purple"},r.a.createElement(v.a,null,"Popup for path"),r.a.createElement(A.a,{bounds:F})))))}}]),t}(n.Component);new h.Icon({iconUrl:a(42),iconSize:[25,30]});var G=a(40),H=b.b.BaseLayer,K=b.b.Overlay,J=[37.773943,-122.449484],Y=new h.Icon({iconUrl:a(42),iconSize:[30,30]});function Z(e){var t=e.routes,a=r.a.useState(null),n=Object(d.a)(a,2),c=n[0],o=n[1];return r.a.createElement(E.a,{center:J,zoom:13},r.a.createElement(b.b,{position:"topright",collapsed:!1},r.a.createElement(H,{name:"Color"},r.a.createElement(k.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})),r.a.createElement(H,{checked:!0,name:"Black and White"},r.a.createElement(k.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png"})),r.a.createElement(K,{name:"Lights"},r.a.createElement(y.a,null,t.lights.map((function(e){return r.a.createElement(g.a,{key:e.objectid+Math.floor(1e4*Math.random())*Math.floor(1e4*Math.random()),position:[e.point.coordinates[1],e.point.coordinates[0]],onClick:function(){o(e)},icon:Y})})),c&&r.a.createElement(v.a,{position:[c.point.coordinates[1],c.point.coordinates[0]],onClose:function(){o(null)}},r.a.createElement("div",null,r.a.createElement("h2",null,"Corner of ",c.street1," and ",c.street2))))),r.a.createElement(K,{checked:!0,name:"Paths"},r.a.createElement(y.a,null,t.paths.map((function(e){return r.a.createElement(T.a,{key:e.cnn+Math.floor(1e4*Math.random())*Math.floor(1e4*Math.random()),color:"green"},r.a.createElement(v.a,null,"Bicycle paths (Class I) are off-street paved bikeways. They are separated from vehicle traffic, but are almost always shared with pedestrians"),r.a.createElement(G.a,{opacity:.35,color:"lime",positions:e.shape.coordinates}))})))),r.a.createElement(K,{checked:!0,name:"Lanes"},r.a.createElement(y.a,null,t.lanes.map((function(e){return r.a.createElement(T.a,{key:e.cnn+Math.floor(1e4*Math.random())*Math.floor(1e4*Math.random()),color:"orange"},r.a.createElement(v.a,null,"A standard bike lane (Class II) is a portion of road reserved for the preferential or exclusive use of people biking, indicated by road markings."),r.a.createElement(G.a,{opacity:.35,color:"orange",positions:e.shape.coordinates}))})))),r.a.createElement(K,{checked:!0,name:"Routes"},r.a.createElement(y.a,null,t.routes.map((function(e){return r.a.createElement(T.a,{key:e.cnn+Math.floor(1e4*Math.random())*Math.floor(1e4*Math.random()),color:"purple"},r.a.createElement(v.a,null,"Shared lanes (Class III - sharrows) are typically wide travel lanes shared by bicyclists and vehicles."),r.a.createElement(G.a,{opacity:.35,color:"purple",positions:e.shape.coordinates}))})))),r.a.createElement(K,{checked:!0,name:"Seperated Bikeway"},r.a.createElement(y.a,null,t.seperated.map((function(e){return r.a.createElement(T.a,{key:e.cnn+Math.floor(1e4*Math.random()),color:"blue"},r.a.createElement(v.a,null,"Separated bikeways (Class IV), also commonly referred to as cycle tracks or protected bikeways, are bicycle facilities that are separated from traffic by parked cars, safe-hit posts, transit islands or other physical barriers."),r.a.createElement(G.a,{opacity:.35,positions:e.shape.coordinates}))}))))))}function V(e){e.racks;var t=r.a.useState(null),a=Object(d.a)(t,2);a[0],a[1];return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(E.a,{center:[37.773943,-122.449484],zoom:13.4},r.a.createElement(k.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}))))}var $=new h.Icon({iconUrl:a(67),iconSize:[25,25]}),q=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={mainMapSelection:"traffic",bikeRacks:[],crime:[],accidents:[],traffic:[],routes:{}},e.changeMap=e.changeMap.bind(Object(p.a)(e)),e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://data.sfgov.org/resource/hn4j-6fx5.json").then((function(e){return e.json()})).then((function(t){e.setState({bikeRacks:t})})),fetch("https://data.sfgov.org/resource/wg3w-h783.json").then((function(e){return e.json()})).then((function(t){var a=t.filter((function(e){return e.latitude&&"Larceny Theft"===e.incident_category})),n=t.filter((function(e){return e.latitude&&"Traffic Collision"===e.incident_category}));e.setState({crime:a,accidents:n})})),fetch("https://data.sfgov.org/resource/awac-r27z.json").then((function(e){return e.json()})).then((function(t){e.setState({traffic:t})})),fetch("https://data.sfgov.org/resource/a5zr-cehj.json").then((function(e){return e.json()})).then((function(t){var a={};a.lights=t,fetch("https://data.sfgov.org/resource/ygmz-vaxd.json").then((function(e){return e.json()})).then((function(t){a.paths=[],a.lanes=[],a.routes=[],a.seperated=[];for(var n=0;n<t.length;n++){for(var r=t[n],c=0;c<r.shape.coordinates.length;c++){var o=r.shape.coordinates[c],l=o[0],i=o[1];r.shape.coordinates[c]=[i,l]}switch(r.symbology){case"BIKE ROUTE":a.routes.push(r);break;case"BIKE PATH":a.paths.push(r);break;case"SEPARATED BIKEWAY":a.seperated.push(r);break;default:a.lanes.push(r)}}e.setState({routes:a})}))}))}},{key:"changeMap",value:function(e){this.setState({mainMapSelection:e})}},{key:"render",value:function(){var e,t=this;switch(this.state.mainMapSelection){case"racks":e=r.a.createElement(C,{icon:$,racks:this.state.bikeRacks});break;case"traffic":e=r.a.createElement(P,{traffic:this.state.traffic});break;case"crime":e=r.a.createElement(B,{crime:this.state.crime});break;case"routes":e=r.a.createElement(Z,{routes:this.state.routes});break;case"accidents":e=r.a.createElement(W,{accidents:this.state.accidents});break;case"all":e=r.a.createElement(V,{crime:this.state.crime,accidents:this.state.accidents,racks:this.state.bikeRacks,traffic:this.state.traffic})}return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h1",null,"SFRider: Biking SF Data")),r.a.createElement("div",{className:"tabs-wrapper"},r.a.createElement("div",{className:"tabs"},r.a.createElement("div",{className:"tab"},r.a.createElement("input",{type:"radio",name:"css-tabs",id:"tab-1",defaultChecked:"traffic"===this.state.mainMapSelection,className:"tab-switch",onClick:function(){t.changeMap("traffic")}}),r.a.createElement("label",{htmlFor:"tab-1",className:"tab-label"},"Traffic")),r.a.createElement("div",{className:"tab"},r.a.createElement("input",{type:"radio",name:"css-tabs",id:"tab-2",defaultChecked:"racks"===this.state.mainMapSelection,className:"tab-switch",onClick:function(){t.changeMap("racks")}}),r.a.createElement("label",{htmlFor:"tab-2",className:"tab-label"},"Racks")),r.a.createElement("div",{className:"tab"},r.a.createElement("input",{type:"radio",name:"css-tabs",id:"tab-5",defaultChecked:"routes"===this.state.mainMapSelection,className:"tab-switch",onClick:function(){t.changeMap("routes")}}),r.a.createElement("label",{htmlFor:"tab-5",className:"tab-label"},"Routes")),r.a.createElement("div",{className:"tab"},r.a.createElement("input",{type:"radio",name:"css-tabs",id:"tab-4",defaultChecked:"crime"===this.state.mainMapSelection,className:"tab-switch",onClick:function(){t.changeMap("crime")}}),r.a.createElement("label",{htmlFor:"tab-4",className:"tab-label"},"Crime")),r.a.createElement("div",{className:"tab"},r.a.createElement("input",{type:"radio",name:"css-tabs",id:"tab-6",defaultChecked:"all"===this.state.mainMapSelection,className:"tab-switch",onClick:function(){t.changeMap("all")}}),r.a.createElement("label",{htmlFor:"tab-6",className:"tab-label"},"All")))),r.a.createElement("div",null,e))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[45,1,2]]]);
//# sourceMappingURL=main.295d445b.chunk.js.map