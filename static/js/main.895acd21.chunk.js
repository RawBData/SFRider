(this.webpackJsonpsfrider=this.webpackJsonpsfrider||[]).push([[0],{25:function(e,t,a){e.exports=a(33)},30:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(11),i=a.n(r),l=(a(30),a(12)),o=a(13),s=a(20),u=a(15),m=a(14),p=a(21),h=a(1),d=a.n(h),f=(a(9),a(7)),b=a(37),g=a(38),E=a(34),v=a(39);function k(e){var t=e.racks,a=c.a.useState(null),n=Object(f.a)(a,2),r=n[0],i=n[1];return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement(b.a,{center:[37.773943,-122.449484],zoom:13.4},c.a.createElement(g.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),t.map((function(e){return c.a.createElement(E.a,{key:e.objectid,position:[e.lat,e.lon],onClick:function(){i(e)}})})),r&&c.a.createElement(v.a,{position:[r.lat,r.lon],onClose:function(){i(null)}},c.a.createElement("div",null,c.a.createElement("h2",null,"Racks : ",r.racks),c.a.createElement("h2",null,"Spaces : ",r.spaces),c.a.createElement("h2",null,"Yr Installed : ",r.install_yr))))))}var y=a(36),j=a(35),S=a(6),M=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"createLeafletElement",value:function(e){}},{key:"componentDidMount",value:function(){var e=d.a.control({position:"topright"});e.onAdd=function(){for(var e=d.a.DomUtil.create("div","info legend"),t=["Light","Average","Medium","Heavy"],a=["green","yellow","red","purple"],n=[],c=0;c<t.length;c++){var r=t[c],i=a[c];n.push('<i style="background:'+i+'"></i> '+r)}return e.innerHTML=n.join("<br>"),e};var t=this.props.leaflet.map;e.addTo(t)}}]),t}(j.a);Object(S.b)(M);function O(e){var t=e.traffic,a=c.a.useState(null),n=Object(f.a)(a,2),r=(n[0],n[1]);return console.log(t),c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement(b.a,{center:[37.773943,-122.449484],zoom:13.4},c.a.createElement(g.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),t.map((function(e){return c.a.createElement(y.a,{fillColor:e.model6_vol>7e5?"purple":e.model6_vol>5e5?"red":e.model6_vol>3e5?"gold":"green",radius:200,fillOpacity:.4,stroke:!1,key:e.objectid,center:[e.point.coordinates[1],e.point.coordinates[0]],onClick:function(){r(e)}})})))))}function w(e){var t=e.crime,a=c.a.useState(null),n=Object(f.a)(a,2),r=n[0],i=n[1];return console.log(t),c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement(b.a,{center:[37.773943,-122.449484],zoom:13.4},c.a.createElement(g.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),t.map((function(e){return c.a.createElement(E.a,{key:e.incident_number,position:[e.latitude,e.longitude],onClick:function(){i(e)}})})),r&&c.a.createElement(v.a,{position:[r.latitude,r.longitude],onClose:function(){i(null)}},c.a.createElement("div",null,c.a.createElement("h2",null,"Police District : ",r.police_district),c.a.createElement("h2",null,"Description : ",r.incident_description),c.a.createElement("h2",null,"Resolution : ",r.resolution))))))}function C(e){e.racks;var t=c.a.useState(null),a=Object(f.a)(t,2);a[0],a[1];return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement(b.a,{center:[37.773943,-122.449484],zoom:13.4},c.a.createElement(g.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}))))}function z(e){e.racks;var t=c.a.useState(null),a=Object(f.a)(t,2);a[0],a[1];return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement(b.a,{center:[37.773943,-122.449484],zoom:13.4},c.a.createElement(g.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}))))}new h.Icon({iconUrl:"../public/bike_black.png",iconSize:[25,25]});var _=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={mainMapSelection:"racks",bikeRacks:[],crime:[],accidents:[],traffic:[]},e.changeMap=e.changeMap.bind(Object(m.a)(e)),e}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://data.sfgov.org/resource/hn4j-6fx5.json").then((function(e){return e.json()})).then((function(t){e.setState({bikeRacks:t})})),fetch("https://data.sfgov.org/resource/wg3w-h783.json").then((function(e){return e.json()})).then((function(t){t=t.filter((function(e){return e.latitude&&"Larceny Theft"===e.incident_category})),e.setState({crime:t})})),fetch("https://data.sfgov.org/resource/awac-r27z.json").then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({traffic:t})}))}},{key:"changeMap",value:function(e){console.log("changing maps to ",e),this.setState({mainMapSelection:e})}},{key:"render",value:function(){var e,t=this;switch(this.state.mainMapSelection){case"racks":e=c.a.createElement(k,{racks:this.state.bikeRacks});break;case"traffic":console.log("chose traffic to display"),e=c.a.createElement(O,{traffic:this.state.traffic});break;case"crime":console.log("chose traffic to display"),e=c.a.createElement(w,{crime:this.state.crime});break;case"accidents":console.log("chose accidents to display"),e=c.a.createElement(C,{accidents:this.state.accidents});break;case"all":console.log("chose all to display"),e=c.a.createElement(z,{crime:this.state.crime,accidents:this.state.accidents,racks:this.state.bikeRacks,traffic:this.state.traffic})}return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("h1",null,"SFRider: Biking SF Timelapse Data")),c.a.createElement("div",{class:"tabs-wrapper"},c.a.createElement("div",{class:"tabs"},c.a.createElement("div",{class:"tab"},c.a.createElement("input",{type:"radio",name:"css-tabs",id:"tab-1",checked:"racks"===this.state.mainMapSelection,class:"tab-switch",onClick:function(){t.changeMap("racks")}}),c.a.createElement("label",{for:"tab-1",class:"tab-label"},"Racks")),c.a.createElement("div",{class:"tab"},c.a.createElement("input",{type:"radio",name:"css-tabs",id:"tab-2",checked:"traffic"===this.state.mainMapSelection,class:"tab-switch",onClick:function(){t.changeMap("traffic")}}),c.a.createElement("label",{for:"tab-2",class:"tab-label"},"Traffic")),c.a.createElement("div",{class:"tab"},c.a.createElement("input",{type:"radio",name:"css-tabs",id:"tab-3",checked:"accidents"===this.state.mainMapSelection,class:"tab-switch",onClick:function(){t.changeMap("accidents")}}),c.a.createElement("label",{for:"tab-3",class:"tab-label"},"Accidents")),c.a.createElement("div",{class:"tab"},c.a.createElement("input",{type:"radio",name:"css-tabs",id:"tab-4",checked:"crime"===this.state.mainMapSelection,class:"tab-switch",onClick:function(){t.changeMap("crime")}}),c.a.createElement("label",{for:"tab-4",class:"tab-label"},"Crime")),c.a.createElement("div",{class:"tab"},c.a.createElement("input",{type:"radio",name:"css-tabs",id:"tab-5",checked:"all"===this.state.mainMapSelection,class:"tab-switch",onClick:function(){t.changeMap("all")}}),c.a.createElement("label",{for:"tab-5",class:"tab-label"},"All")))),c.a.createElement("div",null,e))}}]),t}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,a){}},[[25,1,2]]]);
//# sourceMappingURL=main.895acd21.chunk.js.map