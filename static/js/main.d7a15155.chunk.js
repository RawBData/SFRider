(this.webpackJsonpsfrider=this.webpackJsonpsfrider||[]).push([[0],{24:function(e,t,a){},34:function(e,t,a){e.exports=a.p+"static/media/racks_icon.74942809.png"},44:function(e,t,a){e.exports=a.p+"static/media/crime.596b3fdf.png"},45:function(e,t,a){e.exports=a.p+"static/media/lights.3343e2ef.png"},47:function(e,t,a){e.exports=a(68)},52:function(e,t,a){},53:function(e,t,a){e.exports=a.p+"static/media/lock.49d5c9f7.png"},67:function(e,t,a){e.exports=a.p+"static/media/test.73d7cf17.jpg"},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(23),c=a.n(o),l=(a(52),a(15)),i=a(16),s=a(19),u=a(17),m=a(26),p=a(18),h=a(1),d=a.n(h),f=(a(24),a(10)),E=a(30),b=a(35),y=a(36),k=a(37),g=a(38),v=a(39),M=a(12),S=a(3),j=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"createLeafletElement",value:function(e){}},{key:"componentDidMount",value:function(){for(var e={"2015-Present":[],"2010-2014":[],"2005-2009":[],"pre-2005":[]},t=d.a.icon({iconUrl:a(53),iconSize:[35,35]}),n=0;n<this.props.markers.length;n++){var r=this.props.markers[n],o=parseInt(r.install_yr);switch(!0){case o>2014:e["2015-Present"].push(r);break;case o>2009:e["2010-2014"].push(r);break;case o>2004:e["2005-2009"].push(r);break;default:e["pre-2005"].push(r)}}var c=d.a.layerGroup(e["2015-Present"].map((function(e){return d.a.marker([e.lat,e.lon],{icon:t}).bindPopup("Spaces: ".concat(e.spaces))}))),l=d.a.layerGroup(e["2010-2014"].map((function(e){return d.a.marker([e.lat,e.lon],{icon:t}).bindPopup("Spaces: ".concat(e.spaces))}))),i=d.a.layerGroup(e["2005-2009"].map((function(e){return d.a.marker([e.lat,e.lon],{icon:t}).bindPopup("Spaces: ".concat(e.spaces))}))),s=d.a.layerGroup(e["pre-2005"].map((function(e){return d.a.marker([e.lat,e.lon],{icon:t}).bindPopup("Spaces: ".concat(e.spaces))}))),u=d.a.layerGroup(this.props.markers.map((function(e){return d.a.marker([e.lat,e.lon],{icon:t}).bindPopup("Spaces: ".concat(e.spaces))}))),m=this.props.leaflet.map;d.a.control.layers({},{"2015-Present":c,"2010-2014":l,"2005-2009":i,"pre-2005":s,All:u},{position:"topleft",collapsed:!1}).addTo(m),d.a.control.scale().addTo(m)}},{key:"componentWillUnmount",value:function(){}}]),t}(M.a),w=(Object(S.d)(j),E.b.BaseLayer),O=(E.b.Overlay,new h.Icon({iconUrl:a(34),iconSize:[30,30]}));function C(e){var t=e.racks,a=r.a.useState(null),n=Object(f.a)(a,2),o=n[0],c=n[1];return console.log(t),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(b.a,{center:[37.773943,-122.449484],zoom:13.4},r.a.createElement(y.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),r.a.createElement(E.b,{position:"topright",collapsed:!1},r.a.createElement(w,{name:"2015-Present"},r.a.createElement(k.a,null,t.filter((function(e){return parseInt(e.install_yr)>2014})).map((function(e){return r.a.createElement(g.a,{key:e.objectid,position:[e.lat,e.lon],onClick:function(){c(e)},icon:O})})))),r.a.createElement(w,{name:"2010-2014"},r.a.createElement(k.a,null,t.filter((function(e){return parseInt(e.install_yr)>2009&&parseInt(e.install_yr)<2015})).map((function(e){return r.a.createElement(g.a,{key:e.objectid,position:[e.lat,e.lon],onClick:function(){c(e)},icon:O})})))),r.a.createElement(w,{checked:!0,name:"2005-2009"},r.a.createElement(k.a,null,t.filter((function(e){return parseInt(e.install_yr)>2004&&parseInt(e.install_yr)<2010})).map((function(e){return r.a.createElement(g.a,{key:e.objectid,position:[e.lat,e.lon],onClick:function(){c(e)},icon:O})})))),r.a.createElement(w,{name:"Pre-2005"},r.a.createElement(k.a,null,t.filter((function(e){return parseInt(e.install_yr)<2005})).map((function(e){return r.a.createElement(g.a,{key:e.objectid,position:[e.lat,e.lon],onClick:function(){c(e)},icon:O})})))),r.a.createElement(w,{name:"All"},r.a.createElement(k.a,null,t.map((function(e){return r.a.createElement(g.a,{key:e.objectid,position:[e.lat,e.lon],onClick:function(){c(e)},icon:O})}))))),o&&r.a.createElement(v.a,{position:[o.lat,o.lon],onClose:function(){c(null)}},r.a.createElement("div",null,r.a.createElement("h2",null,"Spaces : ",o.spaces),r.a.createElement("h2",null,"Year Installed : ",o.install_yr),r.a.createElement("h2",null,"Street : ",o.street))))))}var I=a(28),x=a.n(I),z=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"createLeafletElement",value:function(e){}},{key:"componentDidMount",value:function(){var e=d.a.control({position:"topright"});e.onAdd=function(){for(var e=d.a.DomUtil.create("div","info legend"),t=["Light","Medium","Heavy","Dense"],a=["144, 155, 244","103, 232, 51","  248, 254, 77","254,102,31"],n=["white","black","black","white"],r=[],o=0;o<t.length;o++){var c=t[o],l=a[o],i=n[o];r.push('<i style="background:rgb('+l+");color:"+i+';"> '+c+"</i>")}return e.innerHTML=r.join("<br>"),e};var t=this.props.leaflet.map;e.addTo(t)}},{key:"componentWillUnmount",value:function(){}}]),t}(M.a),_=Object(S.d)(z);function P(e){var t=e.traffic,a=r.a.useState(null),n=Object(f.a)(a,2);n[0],n[1];return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(b.a,{center:[37.773943,-122.449484],maxZoom:14,zoom:13.4},r.a.createElement(y.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),r.a.createElement(_,null),r.a.createElement(x.a,{opacity:.1,points:t,maxZoom:10,longitudeExtractor:function(e){return e.point.coordinates[0]},latitudeExtractor:function(e){return e.point.coordinates[1]},intensityExtractor:function(e){return parseFloat(e.model6_vol)}}))))}var N=new h.Icon({iconUrl:a(44),iconSize:[35,35]});function B(e){var t=e.crime,a=r.a.useState(null),n=Object(f.a)(a,2),o=n[0],c=n[1];return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(b.a,{center:[37.773943,-122.449484],zoom:13.4},r.a.createElement(y.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),t.map((function(e){return r.a.createElement(g.a,{key:e.incident_id+e.incident_number+Math.floor(1e3*Math.random()),position:[e.latitude,e.longitude],onClick:function(){c(e)},icon:N})})),o&&r.a.createElement(v.a,{position:[o.latitude,o.longitude],onClose:function(){c(null)}},r.a.createElement("div",null,r.a.createElement("h2",null,"Police District : ",o.police_district),r.a.createElement("h2",null,"Description : ",o.incident_description),r.a.createElement("h2",null,"Resolution : ",o.resolution))))))}var R=a(40),T=a(41),U=a(43),A=E.b.BaseLayer,D=E.b.Overlay,L=[37.773943,-122.449484],F=[[37.773943,-122.449484],[37.773943,-122.49]],W=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(b.a,{center:L,zoom:13},r.a.createElement(E.b,{position:"topright",collapsed:!1},r.a.createElement(A,{name:"Color"},r.a.createElement(y.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})),r.a.createElement(A,{checked:!0,name:"Black and White"},r.a.createElement(y.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png"})),r.a.createElement(D,{name:"Injury"},r.a.createElement(g.a,{position:L},r.a.createElement(v.a,null,"A pretty CSS3 popup. ",r.a.createElement("br",null)," Easily customizable."))),r.a.createElement(D,{checked:!0,name:"Fatal"},r.a.createElement(k.a,null,r.a.createElement(R.a,{center:L,fillColor:"blue",radius:200}),r.a.createElement(R.a,{center:L,fillColor:"red",radius:100,stroke:!1}),r.a.createElement(k.a,null,r.a.createElement(R.a,{center:[L[0],L[1]-.05],color:"green",fillColor:"green",radius:100})))),r.a.createElement(D,{name:"Path"},r.a.createElement(T.a,{color:"purple"},r.a.createElement(v.a,null,"Popup for path"),r.a.createElement(U.a,{bounds:F})))))}}]),t}(n.Component);new h.Icon({iconUrl:a(45),iconSize:[25,30]});var G=a(42),H=E.b.BaseLayer,K=E.b.Overlay,Y=[37.773943,-122.449484],Z=new h.Icon({iconUrl:a(45),iconSize:[30,30]});function J(e){var t=e.routes,a=r.a.useState(null),n=Object(f.a)(a,2),o=n[0],c=n[1];return r.a.createElement(b.a,{center:Y,zoom:13},r.a.createElement(E.b,{position:"topright",collapsed:!1},r.a.createElement(H,{checked:!0,name:"Color"},r.a.createElement(y.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})),r.a.createElement(H,{name:"Black and White"},r.a.createElement(y.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png"})),r.a.createElement(K,{name:"Lights"},r.a.createElement(k.a,null,t.lights.map((function(e){return r.a.createElement(g.a,{key:e.objectid+Math.floor(1e4*Math.random())*Math.floor(1e4*Math.random()),position:[e.point.coordinates[1],e.point.coordinates[0]],onClick:function(){c(e)},icon:Z})})),o&&r.a.createElement(v.a,{position:[o.point.coordinates[1],o.point.coordinates[0]],onClose:function(){c(null)}},r.a.createElement("div",null,r.a.createElement("h2",null,"Corner of ",o.street1," and ",o.street2))))),r.a.createElement(K,{checked:!0,name:"Paths"},r.a.createElement(k.a,null,t.paths.map((function(e){return r.a.createElement(T.a,{key:e.cnn+Math.floor(1e4*Math.random())*Math.floor(1e4*Math.random()),color:"green"},r.a.createElement(v.a,null,"Bicycle paths (Class I) are off-street paved bikeways. They are separated from vehicle traffic, but are almost always shared with pedestrians"),r.a.createElement(G.a,{opacity:.35,color:"lime",positions:e.shape.coordinates}))})))),r.a.createElement(K,{checked:!0,name:"Lanes"},r.a.createElement(k.a,null,t.lanes.map((function(e){return r.a.createElement(T.a,{key:e.cnn+Math.floor(1e4*Math.random())*Math.floor(1e4*Math.random()),color:"orange"},r.a.createElement(v.a,null,"A standard bike lane (Class II) is a portion of road reserved for the preferential or exclusive use of people biking, indicated by road markings."),r.a.createElement(G.a,{opacity:.35,color:"orange",positions:e.shape.coordinates}))})))),r.a.createElement(K,{checked:!0,name:"Routes"},r.a.createElement(k.a,null,t.routes.map((function(e){return r.a.createElement(T.a,{key:e.cnn+Math.floor(1e4*Math.random())*Math.floor(1e4*Math.random()),color:"purple"},r.a.createElement(v.a,null,"Shared lanes (Class III - sharrows) are typically wide travel lanes shared by bicyclists and vehicles."),r.a.createElement(G.a,{opacity:.35,color:"purple",positions:e.shape.coordinates}))})))),r.a.createElement(K,{checked:!0,name:"Seperated Bikeway"},r.a.createElement(k.a,null,t.seperated.map((function(e){return r.a.createElement(T.a,{key:e.cnn+Math.floor(1e4*Math.random()),color:"blue"},r.a.createElement(v.a,null,"Separated bikeways (Class IV), also commonly referred to as cycle tracks or protected bikeways, are bicycle facilities that are separated from traffic by parked cars, safe-hit posts, transit islands or other physical barriers."),r.a.createElement(G.a,{opacity:.35,positions:e.shape.coordinates}))}))))))}var V=E.b.BaseLayer,$=E.b.Overlay,q=[37.773943,-122.449484],Q=new h.Icon({iconUrl:a(34),iconSize:[30,30]}),X=new h.Icon({iconUrl:a(44),iconSize:[35,35]});function ee(e){var t=e.racks,a=e.routes,n=e.traffic,o=e.crime,c=r.a.useState(null),l=Object(f.a)(c,2);l[0],l[1];return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(b.a,{center:q,zoom:13},r.a.createElement(E.b,{position:"topright",collapsed:!1},r.a.createElement(V,{checked:!0,name:"Color"},r.a.createElement(y.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})),r.a.createElement(V,{name:"Black and White"},r.a.createElement(y.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png"})),r.a.createElement($,{checked:!0,name:"Routes"},r.a.createElement(k.a,null,a.paths.map((function(e){return r.a.createElement(T.a,{key:e.cnn+Math.floor(1e4*Math.random())*Math.floor(1e4*Math.random()),color:"green"},r.a.createElement(v.a,null,"Bicycle paths (Class I) are off-street paved bikeways. They are separated from vehicle traffic, but are almost always shared with pedestrians"),r.a.createElement(G.a,{opacity:.35,color:"lime",positions:e.shape.coordinates}))})),a.lanes.map((function(e){return r.a.createElement(T.a,{key:e.cnn+Math.floor(1e4*Math.random())*Math.floor(1e4*Math.random()),color:"orange"},r.a.createElement(v.a,null,"A standard bike lane (Class II) is a portion of road reserved for the preferential or exclusive use of people biking, indicated by road markings."),r.a.createElement(G.a,{opacity:.35,color:"orange",positions:e.shape.coordinates}))})),a.routes.map((function(e){return r.a.createElement(T.a,{key:e.cnn+Math.floor(1e4*Math.random())*Math.floor(1e4*Math.random()),color:"purple"},r.a.createElement(v.a,null,"Shared lanes (Class III - sharrows) are typically wide travel lanes shared by bicyclists and vehicles."),r.a.createElement(G.a,{opacity:.35,color:"purple",positions:e.shape.coordinates}))})),a.seperated.map((function(e){return r.a.createElement(T.a,{key:e.cnn+Math.floor(1e4*Math.random()),color:"blue"},r.a.createElement(v.a,null,"Separated bikeways (Class IV), also commonly referred to as cycle tracks or protected bikeways, are bicycle facilities that are separated from traffic by parked cars, safe-hit posts, transit islands or other physical barriers."),r.a.createElement(G.a,{opacity:.35,positions:e.shape.coordinates}))})))),r.a.createElement($,{checked:!0,name:"Racks"},r.a.createElement(k.a,null,t.map((function(e){return r.a.createElement(T.a,null,r.a.createElement(v.a,null,r.a.createElement("div",null,r.a.createElement("h2",null,"Spaces : ",e.spaces),r.a.createElement("h2",null,"Year Installed : ",e.install_yr),r.a.createElement("h2",null,"Street : ",e.street))),r.a.createElement(g.a,{key:e.objectid,position:[e.lat,e.lon],icon:Q}))})))),r.a.createElement($,{name:"Traffic"},r.a.createElement(k.a,null,r.a.createElement(x.a,{opacity:.1,points:n,maxZoom:10,longitudeExtractor:function(e){return e.point.coordinates[0]},latitudeExtractor:function(e){return e.point.coordinates[1]},intensityExtractor:function(e){return parseFloat(e.model6_vol)}}))),r.a.createElement($,{name:"Crime"},r.a.createElement(k.a,null,o.map((function(e){return r.a.createElement(T.a,null,r.a.createElement(v.a,null,r.a.createElement("div",null,r.a.createElement("h2",null,"Police District : ",e.police_district),r.a.createElement("h2",null,"Description : ",e.incident_description),r.a.createElement("h2",null,"Resolution : ",e.resolution))),r.a.createElement(g.a,{key:e.incident_id+e.incident_number+Math.floor(1e3*Math.random()),position:[e.latitude,e.longitude],icon:X}))}))))))))}var te=new h.Icon({iconUrl:a(67),iconSize:[25,25]}),ae=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={mainMapSelection:"traffic",bikeRacks:[],crime:[],accidents:[],traffic:[],routes:{}},e.changeMap=e.changeMap.bind(Object(m.a)(e)),e}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://data.sfgov.org/resource/hn4j-6fx5.json").then((function(e){return e.json()})).then((function(t){e.setState({bikeRacks:t})})),fetch("https://data.sfgov.org/resource/wg3w-h783.json").then((function(e){return e.json()})).then((function(t){var a=t.filter((function(e){return e.latitude&&"Larceny Theft"===e.incident_category})),n=t.filter((function(e){return e.latitude&&"Traffic Collision"===e.incident_category}));e.setState({crime:a,accidents:n})})),fetch("https://data.sfgov.org/resource/awac-r27z.json").then((function(e){return e.json()})).then((function(t){e.setState({traffic:t})})),fetch("https://data.sfgov.org/resource/a5zr-cehj.json").then((function(e){return e.json()})).then((function(t){var a={};a.lights=t,fetch("https://data.sfgov.org/resource/ygmz-vaxd.json").then((function(e){return e.json()})).then((function(t){a.paths=[],a.lanes=[],a.routes=[],a.seperated=[];for(var n=0;n<t.length;n++){for(var r=t[n],o=0;o<r.shape.coordinates.length;o++){var c=r.shape.coordinates[o],l=c[0],i=c[1];r.shape.coordinates[o]=[i,l]}switch(r.symbology){case"BIKE ROUTE":a.routes.push(r);break;case"BIKE PATH":a.paths.push(r);break;case"SEPARATED BIKEWAY":a.seperated.push(r);break;default:a.lanes.push(r)}}e.setState({routes:a})}))}))}},{key:"changeMap",value:function(e){this.setState({mainMapSelection:e})}},{key:"render",value:function(){var e,t=this;switch(this.state.mainMapSelection){case"racks":e=r.a.createElement(C,{icon:te,racks:this.state.bikeRacks});break;case"traffic":e=r.a.createElement(P,{traffic:this.state.traffic});break;case"crime":e=r.a.createElement(B,{crime:this.state.crime});break;case"routes":e=r.a.createElement(J,{routes:this.state.routes});break;case"accidents":e=r.a.createElement(W,{accidents:this.state.accidents});break;case"all":e=r.a.createElement(ee,{crime:this.state.crime,accidents:this.state.accidents,racks:this.state.bikeRacks,traffic:this.state.traffic,routes:this.state.routes})}return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h1",null,"SFRider: Biking SF Data")),r.a.createElement("div",{className:"tabs-wrapper"},r.a.createElement("div",{className:"tabs"},r.a.createElement("div",{className:"tab"},r.a.createElement("input",{type:"radio",name:"css-tabs",id:"tab-1",defaultChecked:"traffic"===this.state.mainMapSelection,className:"tab-switch",onClick:function(){t.changeMap("traffic")}}),r.a.createElement("label",{htmlFor:"tab-1",className:"tab-label"},"Traffic")),r.a.createElement("div",{className:"tab"},r.a.createElement("input",{type:"radio",name:"css-tabs",id:"tab-2",defaultChecked:"racks"===this.state.mainMapSelection,className:"tab-switch",onClick:function(){t.changeMap("racks")}}),r.a.createElement("label",{htmlFor:"tab-2",className:"tab-label"},"Racks")),r.a.createElement("div",{className:"tab"},r.a.createElement("input",{type:"radio",name:"css-tabs",id:"tab-5",defaultChecked:"routes"===this.state.mainMapSelection,className:"tab-switch",onClick:function(){t.changeMap("routes")}}),r.a.createElement("label",{htmlFor:"tab-5",className:"tab-label"},"Routes")),r.a.createElement("div",{className:"tab"},r.a.createElement("input",{type:"radio",name:"css-tabs",id:"tab-4",defaultChecked:"crime"===this.state.mainMapSelection,className:"tab-switch",onClick:function(){t.changeMap("crime")}}),r.a.createElement("label",{htmlFor:"tab-4",className:"tab-label"},"Crime")),r.a.createElement("div",{className:"tab"},r.a.createElement("input",{type:"radio",name:"css-tabs",id:"tab-6",defaultChecked:"all"===this.state.mainMapSelection,className:"tab-switch",onClick:function(){t.changeMap("all")}}),r.a.createElement("label",{htmlFor:"tab-6",className:"tab-label"},"All")))),r.a.createElement("div",null,e))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[47,1,2]]]);
//# sourceMappingURL=main.d7a15155.chunk.js.map