(this.webpackJsonpsfrider=this.webpackJsonpsfrider||[]).push([[0],{15:function(e,t,a){},24:function(e,t,a){e.exports=a.p+"static/media/lock.49d5c9f7.png"},28:function(e,t,a){e.exports=a(39)},33:function(e,t,a){},36:function(e,t,a){e.exports=a.p+"static/media/crime.17030c76.png"},37:function(e,t,a){e.exports=a.p+"static/media/lights.3343e2ef.png"},38:function(e,t,a){e.exports=a.p+"static/media/test.73d7cf17.jpg"},39:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(18),o=a.n(r),i=(a(33),a(9)),l=a(10),s=a(12),u=a(11),p=a(19),m=a(13),h=a(1),f=a.n(h),d=(a(15),a(7)),b=a(40),E=a(46),g=a(47),k=a(41),y=a(42),v=a(48),j=a(25),S=a(6),O=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"createLeafletElement",value:function(e){}},{key:"componentDidMount",value:function(){for(var e={"2015-Present":[],"2010-2014":[],"2005-2009":[],"pre-2005":[]},t=f.a.icon({iconUrl:a(24),iconSize:[35,35]}),n=0;n<this.props.markers.length;n++){var c=this.props.markers[n],r=parseInt(c.install_yr);switch(!0){case r>2014:e["2015-Present"].push(c);break;case r>2009:e["2010-2014"].push(c);break;case r>2004:e["2005-2009"].push(c);break;default:e["pre-2005"].push(c)}}var o=f.a.layerGroup(e["2015-Present"].map((function(e){return f.a.marker([e.lat,e.lon],{icon:t}).bindPopup("Spaces: ".concat(e.spaces))}))),i=f.a.layerGroup(e["2010-2014"].map((function(e){return f.a.marker([e.lat,e.lon],{icon:t}).bindPopup("Spaces: ".concat(e.spaces))}))),l=f.a.layerGroup(e["2005-2009"].map((function(e){return f.a.marker([e.lat,e.lon],{icon:t}).bindPopup("Spaces: ".concat(e.spaces))}))),s=f.a.layerGroup(e["pre-2005"].map((function(e){return f.a.marker([e.lat,e.lon],{icon:t}).bindPopup("Spaces: ".concat(e.spaces))}))),u=f.a.layerGroup(this.props.markers.map((function(e){return f.a.marker([e.lat,e.lon],{icon:t}).bindPopup("Spaces: ".concat(e.spaces))}))),p=this.props.leaflet.map;f.a.control.layers({},{"2015-Present":o,"2010-2014":i,"2005-2009":l,"pre-2005":s,All:u},{position:"topleft",collapsed:!1}).addTo(p),f.a.control.scale().addTo(p)}},{key:"componentWillUnmount",value:function(){}}]),t}(j.a),w=(Object(S.b)(O),b.a.BaseLayer),M=(b.a.Overlay,new h.Icon({iconUrl:a(24),iconSize:[30,30]}));function C(e){var t=e.racks,a=c.a.useState(null),n=Object(d.a)(a,2),r=n[0],o=n[1];return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement(E.a,{center:[37.773943,-122.449484],zoom:13.4},c.a.createElement(g.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),c.a.createElement(b.a,{position:"topright",collapsed:!1},c.a.createElement(w,{name:"2015-Present"},c.a.createElement(k.a,null,t.filter((function(e){return parseInt(e.install_yr)>2014})).map((function(e){return c.a.createElement(y.a,{key:e.objectid,position:[e.lat,e.lon],onClick:function(){o(e)},icon:M})})))),c.a.createElement(w,{name:"2010-2014"},c.a.createElement(k.a,null,t.filter((function(e){return parseInt(e.install_yr)>2009&&parseInt(e.install_yr)<2015})).map((function(e){return c.a.createElement(y.a,{key:e.objectid,position:[e.lat,e.lon],onClick:function(){o(e)},icon:M})})))),c.a.createElement(w,{checked:!0,name:"2005-2009"},c.a.createElement(k.a,null,t.filter((function(e){return parseInt(e.install_yr)>2004&&parseInt(e.install_yr)<2010})).map((function(e){return c.a.createElement(y.a,{key:e.objectid,position:[e.lat,e.lon],onClick:function(){o(e)},icon:M})})))),c.a.createElement(w,{name:"Pre-2005"},c.a.createElement(k.a,null,t.filter((function(e){return parseInt(e.install_yr)<2005})).map((function(e){return c.a.createElement(y.a,{key:e.objectid,position:[e.lat,e.lon],onClick:function(){o(e)},icon:M})})))),c.a.createElement(w,{name:"All"},c.a.createElement(k.a,null,t.map((function(e){return c.a.createElement(y.a,{key:e.objectid,position:[e.lat,e.lon],onClick:function(){o(e)},icon:M})}))))),r&&c.a.createElement(v.a,{position:[r.lat,r.lon],onClose:function(){o(null)}},c.a.createElement("div",null,c.a.createElement("h2",null,"Spaces : ",r.spaces))))))}var z=a(43),_=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"createLeafletElement",value:function(e){}},{key:"componentDidMount",value:function(){var e=f.a.control({position:"topright"});e.onAdd=function(){for(var e=f.a.DomUtil.create("div","info legend"),t=["Light","Medium","Heavy","Dense"],a=["green","yellow","red","purple"],n=["white","black","white","white"],c=[],r=0;r<t.length;r++){var o=t[r],i=a[r],l=n[r];c.push('<i style="background:'+i+";color:"+l+';"> '+o+"</i>")}return e.innerHTML=c.join("<br>"),e};var t=this.props.leaflet.map;e.addTo(t)}},{key:"componentWillUnmount",value:function(){}}]),t}(j.a),P=Object(S.b)(_);function x(e){var t=e.traffic,a=c.a.useState(null),n=Object(d.a)(a,2),r=(n[0],n[1]);return console.log(t),c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement(E.a,{center:[37.773943,-122.449484],zoom:13.4},c.a.createElement(g.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),c.a.createElement(P,null),t.map((function(e){return c.a.createElement(z.a,{fillColor:e.model6_vol>7e5?"purple":e.model6_vol>5e5?"red":e.model6_vol>3e5?"gold":"green",radius:200,fillOpacity:.4,stroke:!1,key:e.objectid,center:[e.point.coordinates[1],e.point.coordinates[0]],onClick:function(){r(e)}})})))))}var I=new h.Icon({iconUrl:a(36),iconSize:[30,30]});function D(e){var t=e.crime,a=c.a.useState(null),n=Object(d.a)(a,2),r=n[0],o=n[1];return console.log(t),c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement(E.a,{center:[37.773943,-122.449484],zoom:13.4},c.a.createElement(g.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),t.map((function(e){return c.a.createElement(y.a,{key:e.incident_id+e.incident_number,position:[e.latitude,e.longitude],onClick:function(){o(e)},icon:I})})),r&&c.a.createElement(v.a,{position:[r.latitude,r.longitude],onClose:function(){o(null)}},c.a.createElement("div",null,c.a.createElement("h2",null,"Police District : ",r.police_district),c.a.createElement("h2",null,"Description : ",r.incident_description),c.a.createElement("h2",null,"Resolution : ",r.resolution))))))}var L=a(44),U=a(45),R=b.a.BaseLayer,T=b.a.Overlay,A=[37.773943,-122.449484],B=[[37.773943,-122.449484],[37.773943,-122.49]],G=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement(E.a,{center:A,zoom:13},c.a.createElement(b.a,{position:"topright",collapsed:!1},c.a.createElement(R,{name:"Color"},c.a.createElement(g.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})),c.a.createElement(R,{checked:!0,name:"Black and White"},c.a.createElement(g.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png"})),c.a.createElement(T,{name:"Injury"},c.a.createElement(y.a,{position:A},c.a.createElement(v.a,null,"A pretty CSS3 popup. ",c.a.createElement("br",null)," Easily customizable."))),c.a.createElement(T,{checked:!0,name:"Fatal"},c.a.createElement(k.a,null,c.a.createElement(z.a,{center:A,fillColor:"blue",radius:200}),c.a.createElement(z.a,{center:A,fillColor:"red",radius:100,stroke:!1}),c.a.createElement(k.a,null,c.a.createElement(z.a,{center:[A[0],A[1]-.05],color:"green",fillColor:"green",radius:100})))),c.a.createElement(T,{name:"Path"},c.a.createElement(L.a,{color:"purple"},c.a.createElement(v.a,null,"Popup for path"),c.a.createElement(U.a,{bounds:B})))))}}]),t}(n.Component),W=new h.Icon({iconUrl:a(37),iconSize:[25,30]});function F(e){var t=e.lights,a=c.a.useState(null),n=Object(d.a)(a,2),r=n[0],o=n[1];return console.log(t),c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement(E.a,{center:[37.773943,-122.449484],zoom:13.4},c.a.createElement(g.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),t.map((function(e){return c.a.createElement(y.a,{key:e.objectid,position:[e.point.coordinates[1],e.point.coordinates[0]],onClick:function(){o(e)},icon:W})})),r&&c.a.createElement(v.a,{position:[r.point.coordinates[1],r.point.coordinates[0]],onClose:function(){o(null)}},c.a.createElement("div",null,c.a.createElement("h2",null,"Corner of ",r.street1," and ",r.street2))))))}function H(e){e.racks;var t=c.a.useState(null),a=Object(d.a)(t,2);a[0],a[1];return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement(E.a,{center:[37.773943,-122.449484],zoom:13.4},c.a.createElement(g.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}))))}var J=new h.Icon({iconUrl:a(38),iconSize:[25,25]}),$=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={mainMapSelection:"traffic",bikeRacks:[],crime:[],accidents:[],traffic:[],lights:[]},e.changeMap=e.changeMap.bind(Object(p.a)(e)),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://data.sfgov.org/resource/hn4j-6fx5.json").then((function(e){return e.json()})).then((function(t){e.setState({bikeRacks:t})})),fetch("https://data.sfgov.org/resource/wg3w-h783.json").then((function(e){return e.json()})).then((function(t){var a=t.filter((function(e){return e.latitude&&"Larceny Theft"===e.incident_category})),n=t.filter((function(e){return e.latitude&&"Traffic Collision"===e.incident_category}));e.setState({crime:a,accidents:n})})),fetch("https://data.sfgov.org/resource/awac-r27z.json").then((function(e){return e.json()})).then((function(t){e.setState({traffic:t})})),fetch("https://data.sfgov.org/resource/a5zr-cehj.json").then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({lights:t})}))}},{key:"changeMap",value:function(e){console.log("changing maps to ",e),this.setState({mainMapSelection:e})}},{key:"render",value:function(){var e,t=this;switch(this.state.mainMapSelection){case"racks":e=c.a.createElement(C,{icon:J,racks:this.state.bikeRacks});break;case"traffic":console.log("chose traffic to display"),e=c.a.createElement(x,{traffic:this.state.traffic});break;case"crime":console.log("chose traffic to display"),e=c.a.createElement(D,{crime:this.state.crime});break;case"lights":console.log("chose lights to display"),e=c.a.createElement(F,{lights:this.state.lights});break;case"accidents":console.log("chose accidents to display"),e=c.a.createElement(G,{accidents:this.state.accidents});break;case"all":console.log("chose all to display"),e=c.a.createElement(H,{crime:this.state.crime,accidents:this.state.accidents,racks:this.state.bikeRacks,traffic:this.state.traffic})}return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("h1",null,"SFRider: Biking SF Data")),c.a.createElement("div",{class:"tabs-wrapper"},c.a.createElement("div",{class:"tabs"},c.a.createElement("div",{class:"tab"},c.a.createElement("input",{type:"radio",name:"css-tabs",id:"tab-1",checked:"traffic"===this.state.mainMapSelection,class:"tab-switch",onClick:function(){t.changeMap("traffic")}}),c.a.createElement("label",{for:"tab-1",class:"tab-label"},"Traffic")),c.a.createElement("div",{class:"tab"},c.a.createElement("input",{type:"radio",name:"css-tabs",id:"tab-2",checked:"racks"===this.state.mainMapSelection,class:"tab-switch",onClick:function(){t.changeMap("racks")}}),c.a.createElement("label",{for:"tab-2",class:"tab-label"},"Racks")),c.a.createElement("div",{class:"tab"},c.a.createElement("input",{type:"radio",name:"css-tabs",id:"tab-3",checked:"accidents"===this.state.mainMapSelection,class:"tab-switch",onClick:function(){t.changeMap("accidents")}}),c.a.createElement("label",{for:"tab-3",class:"tab-label"},"Accidents")),c.a.createElement("div",{class:"tab"},c.a.createElement("input",{type:"radio",name:"css-tabs",id:"tab-4",checked:"crime"===this.state.mainMapSelection,class:"tab-switch",onClick:function(){t.changeMap("crime")}}),c.a.createElement("label",{for:"tab-4",class:"tab-label"},"Crime")),c.a.createElement("div",{class:"tab"},c.a.createElement("input",{type:"radio",name:"css-tabs",id:"tab-5",checked:"lights"===this.state.mainMapSelection,class:"tab-switch",onClick:function(){t.changeMap("lights")}}),c.a.createElement("label",{for:"tab-5",class:"tab-label"},"Lights")),c.a.createElement("div",{class:"tab"},c.a.createElement("input",{type:"radio",name:"css-tabs",id:"tab-6",checked:"all"===this.state.mainMapSelection,class:"tab-switch",onClick:function(){t.changeMap("all")}}),c.a.createElement("label",{for:"tab-6",class:"tab-label"},"All")))),c.a.createElement("div",null,e))}}]),t}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.0c483717.chunk.js.map